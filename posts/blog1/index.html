<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối | Blog của CuongNT232</title><meta name=keywords content="Python,Telegram Bot,Automation"><meta name=description content="Hướng dẫn chi tiết cách code Bot Python lấy giá vàng và cơ chế tự phục hồi khi máy vào chế độ Sleep."><meta name=author content><link rel=canonical href=https://cuongnt232.github.io/posts/blog1/><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://cuongnt232.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cuongnt232.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cuongnt232.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cuongnt232.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cuongnt232.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cuongnt232.github.io/posts/blog1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://cuongnt232.github.io/posts/blog1/"><meta property="og:site_name" content="Blog của CuongNT232"><meta property="og:title" content="Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối"><meta property="og:description" content="Hướng dẫn chi tiết cách code Bot Python lấy giá vàng và cơ chế tự phục hồi khi máy vào chế độ Sleep."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-30T14:00:00+07:00"><meta property="article:modified_time" content="2026-01-30T14:00:00+07:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Telegram Bot"><meta property="article:tag" content="Automation"><meta name=twitter:card content="summary"><meta name=twitter:title content="Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối"><meta name=twitter:description content="Hướng dẫn chi tiết cách code Bot Python lấy giá vàng và cơ chế tự phục hồi khi máy vào chế độ Sleep."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://cuongnt232.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối","item":"https://cuongnt232.github.io/posts/blog1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối","name":"Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối","description":"Hướng dẫn chi tiết cách code Bot Python lấy giá vàng và cơ chế tự phục hồi khi máy vào chế độ Sleep.","keywords":["Python","Telegram Bot","Automation"],"articleBody":"\n1. Vấn đề mạng khi máy vào chế độ Sleep Khi mày chạy Bot trên Laptop, Windows thường tự ngắt Wifi để tiết kiệm pin. Điều này làm Bot bị ReadTimeout.\n2. Giải pháp “Vòng lặp bất tử” Thay vì chỉ dùng polling(), tao sử dụng while True để bao bọc:\nimport time while True: try: bot.infinity_polling(timeout=60) except Exception as e: print(f\"Lỗi rồi mày ơi: {e}\") time.sleep(15) # Nghỉ tí rồi thử lại ","wordCount":"73","inLanguage":"en","datePublished":"2026-01-30T14:00:00+07:00","dateModified":"2026-01-30T14:00:00+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://cuongnt232.github.io/posts/blog1/"},"publisher":{"@type":"Organization","name":"Blog của CuongNT232","logo":{"@type":"ImageObject","url":"https://cuongnt232.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cuongnt232.github.io/ accesskey=h title="Blog của CuongNT232 (Alt + H)">Blog của CuongNT232</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Xây dựng Bot Telegram theo dõi giá vàng: Giải quyết lỗi mất kết nối</h1><div class=post-description>Hướng dẫn chi tiết cách code Bot Python lấy giá vàng và cơ chế tự phục hồi khi máy vào chế độ Sleep.</div><div class=post-meta><span title='2026-01-30 14:00:00 +0700 +07'>January 30, 2026</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-v%e1%ba%a5n-%c4%91%e1%bb%81-m%e1%ba%a1ng-khi-m%c3%a1y-v%c3%a0o-ch%e1%ba%bf-%c4%91%e1%bb%99-sleep aria-label="1. Vấn đề mạng khi máy vào chế độ Sleep">1. Vấn đề mạng khi máy vào chế độ Sleep</a></li><li><a href=#2-gi%e1%ba%a3i-ph%c3%a1p-v%c3%b2ng-l%e1%ba%b7p-b%e1%ba%a5t-t%e1%bb%ad aria-label="2. Giải pháp &ldquo;Vòng lặp bất tử&rdquo;">2. Giải pháp &ldquo;Vòng lặp bất tử&rdquo;</a></li></ul></div></details></div><div class=post-content><p><img alt="Hình ảnh bản của tôi" loading=lazy src=/images/NEF_7191.jpg></p><h2 id=1-vấn-đề-mạng-khi-máy-vào-chế-độ-sleep>1. Vấn đề mạng khi máy vào chế độ Sleep<a hidden class=anchor aria-hidden=true href=#1-vấn-đề-mạng-khi-máy-vào-chế-độ-sleep>#</a></h2><p>Khi mày chạy Bot trên Laptop, Windows thường tự ngắt Wifi để tiết kiệm pin. Điều này làm Bot bị <code>ReadTimeout</code>.</p><h2 id=2-giải-pháp-vòng-lặp-bất-tử>2. Giải pháp &ldquo;Vòng lặp bất tử&rdquo;<a hidden class=anchor aria-hidden=true href=#2-giải-pháp-vòng-lặp-bất-tử>#</a></h2><p>Thay vì chỉ dùng <code>polling()</code>, tao sử dụng <code>while True</code> để bao bọc:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        bot<span style=color:#f92672>.</span>infinity_polling(timeout<span style=color:#f92672>=</span><span style=color:#ae81ff>60</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Lỗi rồi mày ơi: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>15</span>) <span style=color:#75715e># Nghỉ tí rồi thử lại</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://cuongnt232.github.io/tags/python/>Python</a></li><li><a href=https://cuongnt232.github.io/tags/telegram-bot/>Telegram Bot</a></li><li><a href=https://cuongnt232.github.io/tags/automation/>Automation</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://cuongnt232.github.io/>Blog của CuongNT232</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>